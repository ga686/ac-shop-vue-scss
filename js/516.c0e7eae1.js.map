{"version":3,"file":"js/516.c0e7eae1.js","mappings":"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","sources":["webpack://simple_twitter/./src/components/UserHeader.vue","webpack://simple_twitter/src/components/UserHeader.vue","webpack://simple_twitter/./src/components/UserHeader.vue?01a6","webpack://simple_twitter/./src/components/UserHeader.vue?c615","webpack://simple_twitter/./src/views/UserFollow.vue","webpack://simple_twitter/./src/components/UserFollowers.vue","webpack://simple_twitter/src/components/UserFollowers.vue","webpack://simple_twitter/./src/components/UserFollowers.vue?1bb9","webpack://simple_twitter/./src/components/UserFollowers.vue?2eda","webpack://simple_twitter/./src/components/UserFollowings.vue","webpack://simple_twitter/src/components/UserFollowings.vue","webpack://simple_twitter/./src/components/UserFollowings.vue?7cf7","webpack://simple_twitter/./src/components/UserFollowings.vue?84db","webpack://simple_twitter/src/views/UserFollow.vue","webpack://simple_twitter/./src/views/UserFollow.vue?ad27","webpack://simple_twitter/./src/views/UserFollow.vue?cffe"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-header d-flex align-item-center\"},[_c('div',{staticClass:\"link-icon\",on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"user-title d-flex justify-content-center\"},[_c('h5',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('div',{staticClass:\"user-tweetCounts number-wrap\"},[_vm._v(_vm._s(_vm._f(\"quantifier\")(_vm.user.tweetsLength)))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-header d-flex align-item-center\">\n    <div class=\"link-icon\" @click=\"$router.back()\"></div>\n    <div class=\"user-title d-flex justify-content-center\">\n      <h5 class=\"user-name\">{{user.name}}</h5>\n      <div class=\"user-tweetCounts number-wrap\">{{user.tweetsLength | quantifier}}</div>\n    </div>\n  </div>\n</template>\n<script>\nexport default{\n  props:{\n    user:{\n      name: '',\n      tweetsLength: ''\n    }\n  },\n  filters: {\n    quantifier(length) {\n      return length = length + ' ' + '推文'\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/userPage/style.scss';\n</style>\n\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserHeader.vue?vue&type=template&id=92be4e54&scoped=true&\"\nimport script from \"./UserHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./UserHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserHeader.vue?vue&type=style&index=0&id=92be4e54&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92be4e54\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"main-view mx-auto\"},[_c('NavbarLeft'),_c('div',{staticClass:\"user-page\"},[_c('UserHeader',{attrs:{\"user\":_vm.user}}),_c('div',{staticClass:\"follow-title\"},[_c('div',{class:['user-followers', {active: _vm.currentView === 'followers'}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.$router.push({path: `/user/follow/followers/${_vm.user.id}`})}}},[_vm._v(\"追蹤者\")]),_c('div',{class:['user-followings',{active: _vm.currentView === 'followings'}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.$router.push({path: `/user/follow/followings/${_vm.user.id}`})}}},[_vm._v(\"正在追隨\")])]),_c('UserFollowers',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentView === 'followers'),expression:\"currentView === 'followers'\"}],attrs:{\"initFollowers\":_vm.user.followers,\"initUserId\":_vm.user.id}}),_c('UserFollowings',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentView === 'followings'),expression:\"currentView === 'followings'\"}],attrs:{\"initFollowings\":_vm.user.followings}})],1),_c('SuggestUser')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.id,staticClass:\"comment_wrap d-flex\"},[_c('div',{staticClass:\"avatar_image\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(follower.avatar)}})]),_c('div',{staticClass:\"comment_wrap_body\"},[_c('div',{staticClass:\"d-flex comment_wrap_body--title\"},[_c('h5',{staticClass:\"size-16\"},[_vm._v(_vm._s(follower.name))]),_c('button',{class:['btn',{'unfollow': !follower.isFollowed}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleFollow(follower)}}},[_vm._v(_vm._s(follower.isFollowed ? '正在跟隨' : '跟隨'))])]),_c('div',{staticClass:\"comment_wrap_body--content mb-3\"},[_vm._v(_vm._s(follower.introduction))])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-for=\"follower in followers\" :key=\"follower.id\" class=\"comment_wrap d-flex\">\n      <div class=\"avatar_image\"><img :src=\"follower.avatar | emptyImage \" /></div>\n      <div class=\"comment_wrap_body\">\n        <div class=\"d-flex comment_wrap_body--title\">\n          <h5 class=\"size-16\">{{follower.name}}</h5>\n          <button :class=\"['btn',{'unfollow': !follower.isFollowed}]\" @click.prevent.stop=\"toggleFollow(follower)\">{{\n          follower.isFollowed ? '正在跟隨' :\n          '跟隨'}}</button>\n        </div>\n        <div class=\"comment_wrap_body--content mb-3\">{{follower.introduction}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { emptyImageFilter } from '../utils/mixins'\nimport { mapState } from 'vuex'\nimport usersAPI from '../apis/users'\nimport followshipsAPI from '../apis/followships'\nimport { Toast } from '../utils/helpers'\nexport default {\n  props: {\n    initFollowers: {\n      type: Array,\n      required: true,\n    },\n    initUserId:{\n      type: Number,\n      required: true\n    }\n  },\n  mixins: [emptyImageFilter],\n  data() {\n    return {\n      followers: [],\n    }\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  created() {\n    this.fetchData(this.initUserId)\n  },\n  watch: {\n    initFollowers() {\n      this.fetchData(this.initUserId)\n    }\n  },\n  methods: {\n    async fetchData(userId) {\n      const {data} = await usersAPI.getFollowers(userId)\n     this.followers = data\n\n    },\n    async toggleFollow(follower) {\n      try {\n        const followerId = follower.followerId\n        if (follower.isFollowed === false) {\n          const { data } = await followshipsAPI.addFollow(followerId)\n          if (data === 'success') {\n            throw new Error(data.message)\n          }\n          \n          Toast.fire({\n            icon: 'success',\n            title: '成功追蹤'\n          })\n          follower.isFollowed = !follower.isFollowed\n          \n        }else{\n          const { data } = await followshipsAPI.deleteFollow(followerId)\n          if (data === 'success') {\n            throw new Error(data.message)\n          }\n          Toast.fire({\n            icon: 'success',\n            title: '成功取消追蹤'\n          })\n        }\n      } catch (err) {\n        console.log(err)\n        Toast.fire({\n          icon: 'error',\n          title: '追蹤失敗，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/tweet.scss';\n\n.comment_wrap_body {\n  width: 100%;\n}\n\n.comment_wrap_body--title {\n  justify-content: space-between;\n  align-items: center;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowers.vue?vue&type=template&id=fc16b37a&scoped=true&\"\nimport script from \"./UserFollowers.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollowers.vue?vue&type=style&index=0&id=fc16b37a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc16b37a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._l((_vm.followings),function(following){return _c('div',{key:following.id,staticClass:\"comment_wrap d-flex\"},[_c('div',{staticClass:\"avatar_image\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(following.avatar)}})]),_c('div',{staticClass:\"comment_wrap_body\"},[_c('div',{staticClass:\"d-flex comment_wrap_body--title\"},[_c('h5',{staticClass:\"size-16\"},[_vm._v(_vm._s(following.name))]),_c('button',{class:['btn',{unfollow: !_vm.isFollowed}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.deleteFollowing(following.id)}}},[_vm._v(_vm._s(_vm.isFollowed ? '正在跟隨' : '跟隨'))])]),_c('div',{staticClass:\"comment_wrap_body--content mb-3\"},[_vm._v(_vm._s(following.introduction))])])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-for=\"following in followings\" :key=\"following.id\" class=\"comment_wrap d-flex\">\n      <div class=\"avatar_image\"><img :src=\"following.avatar | emptyImage \" /></div>\n      <div class=\"comment_wrap_body\">\n        <div class=\"d-flex comment_wrap_body--title\">\n          <h5 class=\"size-16\">{{following.name}}</h5>\n          <button :class=\"['btn',{unfollow: !isFollowed}]\" @click.prevent.stop=\"deleteFollowing(following.id)\">{{\n          isFollowed ? '正在跟隨' :\n          '跟隨'}}</button>\n        </div>\n        <div class=\"comment_wrap_body--content mb-3\">{{following.introduction}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { emptyImageFilter } from '../utils/mixins'\nimport { mapState } from 'vuex'\nimport followshipsAPI from '../apis/followships'\nimport { Toast } from '../utils/helpers'\nexport default {\n  props: {\n    initFollowings: {\n      type: Array,\n      required: true,\n    },\n  },\n  mixins: [emptyImageFilter],\n  data() {\n    return {\n      followings: [],\n      isFollowed: true,\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated'])\n  },\n  watch: {\n    initFollowings() {\n      this.fetchData()\n    }\n  },\n  methods: {\n    fetchData() {\n      this.followings = this.initFollowings\n    },\n    async deleteFollowing(userId) {\n      try {\n        const { data } = await followshipsAPI.deleteFollow({userId})\n        if(data.status !== 'success'){\n          throw new Error(data.message)\n        }\n        Toast.fire({\n          icon: 'success',\n          title: '成功取消追蹤'\n        })\n        this.followings = this.followings.filter(user=>user.id !== userId)\n      } catch (err) {\n        console.log(err)\n        Toast.fire({\n          icon: 'error',\n          title: '取消追蹤失敗，請稍後再試'\n        })\n      }\n\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/tweet.scss';\n\n.comment_wrap_body {\n  width: 100%;\n}\n\n.comment_wrap_body--title {\n  justify-content: space-between;\n  align-items: center;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowings.vue?vue&type=template&id=0692a071&scoped=true&\"\nimport script from \"./UserFollowings.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollowings.vue?vue&type=style&index=0&id=0692a071&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0692a071\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <main class=\"main-view mx-auto\">\n    <NavbarLeft />\n    <div class=\"user-page\">\n      <UserHeader :user='user' />\n      <div class=\"follow-title\">\n        <div :class=\"['user-followers', {active: currentView === 'followers'}]\"\n        @click.prevent.stop=\"$router.push({path: `/user/follow/followers/${user.id}`})\" >追蹤者</div>\n        <div :class=\"['user-followings',{active: currentView === 'followings'}]\"\n        @click.prevent.stop=\"$router.push({path: `/user/follow/followings/${user.id}`})\">正在追隨</div>\n      </div>\n      <UserFollowers :initFollowers=\"user.followers\" :initUserId=\"user.id\" v-show=\"currentView === 'followers'\" />\n      <UserFollowings :initFollowings=\"user.followings\" v-show=\"currentView === 'followings'\" />\n    </div>\n    <SuggestUser />\n  </main>\n</template>\n<script>\nimport NavbarLeft from '../components/NavbarLeft.vue';\nimport SuggestUser from '../components/SuggestUser.vue';\nimport { mapState } from 'vuex';\nimport { emptyImageFilter } from './../utils/mixins'\nimport { accountFilter } from './../utils/mixins'\nimport UserFollowers from '../components/UserFollowers.vue';\nimport UserFollowings from '../components/UserFollowings.vue';\nimport usersAPI from '../apis/users'\nimport UserHeader from '@/components/UserHeader.vue';\n\nexport default {\n  name: 'userPage',\n  components: {\n    NavbarLeft,\n    SuggestUser,\n    UserFollowers,\n    UserFollowings,\n    UserHeader\n},\n  mixins: [emptyImageFilter, accountFilter],\n  data() {\n    return {\n      user: {\n        id: -1,\n        name: '',\n        tweetsLength: 0,\n        followers: [],\n        followings: [],\n      },\n      isShow: false,\n      currentView: ''\n    }\n  },\n  created() {\n    const { id } = this.$route.params\n    const userId = this.$route.params.user\n    this.currentView = id\n    this.fetchFollow(userId)\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params\n    const userId = to.params.user\n    this.currentView = id\n    this.fetchFollow(userId)\n    next()\n  },\n  methods: {\n    async fetchFollow(userId) {\n      try {\n        const { data } = await usersAPI.get(userId)\n        const {id, name, Tweets, Followers:followers, Followings:followings} = data\n        this.user = {\n          ...this.user,\n         id, name, tweetsLength: Tweets.length, followers ,followings\n        }\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    openModal() {\n      return this.isShow = true\n    },\n    closeModal(show) {\n      return this.isShow = show\n    },\n    toggleContent(view) {\n      this.currentView = view\n    }\n  },\n  filters: {\n    quantifier(length) {\n      return length = length + ' ' + '推文'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/userPage/style.scss';\n\n.follow-title {\n  width: 100%;\n  height: 52px;\n  border-top: 1px solid #E6ECF0;\n  border-bottom: 1px solid #E6ECF0;\n  display: flex;\n  align-items: center;\n\n  & .user-followers {\n    width: 130px;\n    height: 52px;\n    line-height: 52px;\n    text-align: center;\n    cursor: pointer;\n  }\n\n  & .user-followings {\n    width: 130px;\n    height: 52px;\n    line-height: 52px;\n    text-align: center;\n    cursor: pointer;\n  }\n\n  & .active {\n    border-bottom: 2px solid var(--brand-color);\n    color: var(--brand-color);\n    pointer-events: none;\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollow.vue?vue&type=template&id=5d433856&scoped=true&\"\nimport script from \"./UserFollow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollow.vue?vue&type=style&index=0&id=5d433856&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d433856\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","$router","back","_v","_s","user","name","_f","tweetsLength","staticRenderFns","props","filters","quantifier","component","attrs","class","active","currentView","preventDefault","stopPropagation","push","path","id","directives","rawName","value","expression","followers","followings","_l","follower","key","avatar","isFollowed","toggleFollow","introduction","initFollowers","type","required","initUserId","mixins","data","computed","created","watch","methods","Toast","icon","title","console","following","unfollow","deleteFollowing","initFollowings","fetchData","userId","components","NavbarLeft","SuggestUser","UserFollowers","UserFollowings","UserHeader","isShow","beforeRouteUpdate","next","Tweets","Followers","Followings","openModal","closeModal","toggleContent"],"sourceRoot":""}